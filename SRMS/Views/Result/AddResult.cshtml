@model SRMS.Models.Result

@{
    ViewData["Title"] = "AddResult";
}

<h4>AddResult</h4>

<hr />
<div class="row">
    <div class="col-md-4">
        <form asp-action="AddResult" method="post">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <div class="form-group">
                <label asp-for="RollNo" class="control-label"></label>
                <input asp-for="RollNo" class="form-control" />
                <span asp-validation-for="RollNo" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Maths" class="control-label"></label>
                <input asp-for="Maths" class="form-control" onchange="calculateMarksAndPercentage()" />
                <span asp-validation-for="Maths" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="English" class="control-label"></label>
                <input asp-for="English" class="form-control" onchange="calculateMarksAndPercentage()" />
                <span asp-validation-for="English" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Science" class="control-label"></label>
                <input asp-for="Science" class="form-control" onchange="calculateMarksAndPercentage()" />
                <span asp-validation-for="Science" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="History" class="control-label"></label>
                <input asp-for="History" class="form-control" onchange="calculateMarksAndPercentage()" />
                <span asp-validation-for="History" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Marks" class="control-label"></label>
                <input asp-for="Marks" class="form-control" readonly />
                <span asp-validation-for="Marks" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Percentage" class="control-label"></label>
                <input asp-for="Percentage" class="form-control" readonly />
                <span asp-validation-for="Percentage" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Decision" class="control-label"></label>
                <input asp-for="Decision" class="form-control" />
                <span asp-validation-for="Decision" class="text-danger"></span>
            </div>
            <div class="form-group">
                <input type="submit" value="Add" class="btn btn-primary" />
            </div>
        </form>
    </div>
</div>

<div>
    <a asp-action="Result" asp-controller="Home">Back to List</a>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
<script>

    function calculateMarksAndPercentage() {
        var maths = parseFloat($("#Maths").val()) || 0;
        var english = parseFloat($("#English").val()) || 0;
        var science = parseFloat($("#Science").val()) || 0;
        var history = parseFloat($("#History").val()) || 0;

        var marks = maths + english + science + history;
        var percentage = (marks / 4).toFixed(2);

        $("#Marks").val(marks);
        $("#Percentage").val(percentage);
    }
</script>
